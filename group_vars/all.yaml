#IP ADDRESSES
#**********************************************************************************************

MK1_ip_add: "{{ hostvars['MichalKaiser-1']['ansible_default_ipv4']['address'] }}"
MK2_ip_add: "{{ hostvars['MichalKaiser-2']['ansible_default_ipv4']['address'] }}"

localhost: 127.0.0.1

web_url_grafana: "{{ ansible_host }}:{{ ansible_port//100}}80"

#PORTS
#**********************************************************************************************

rsyslog_port: 6514
docker_grafana_port: 3001
agama_out_port: 8000
dns_stat_port: 8053
http_def_port: 80
http_stup_status_port: 8080
prom_port: 9090
agama_starting_port: 8001
agama_containers_per_host: 2
haproxy_port: 88

#BACKUP SERVER
#**********************************************************************************************

backup_server: 192.168.42.132
backup_server_sshkey: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90

#STARTUP NAME AND DOMAIN
#**********************************************************************************************

startup_name: cybera
domain_name: "{{startup_name}}.mk"

#BIND AND RESOLVER
#**********************************************************************************************

dns_servers: 1.1.1.1; 8.8.8.8; 9.9.9.9;
dns_acl: 192.168.42.0/23; 127.0.0.0/8; 172.17.0.0/16;

bind_resolver: "{{ MK1_ip_add }}"
dns_a_records:
  backup: "{{ backup_server }}"
  
dns_cname_records:
  grafana: "{{ groups['grafana_servers'][0] }}"
  influxdb: "{{ groups['influxdb_servers'][0] }}"
  haproxy1: "{{ groups['haproxy_servers'][0] }}"
  haproxy2: "{{ groups['haproxy_servers'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  dns1: "{{ groups['dns_servers'][0] }}"
  dns2: "{{ groups['dns_servers'][1] }}"
  dns3: "{{ groups['dns_servers'][2]}}"
  prometheus: "{{ groups['prometheus_servers'][0] }}"
  web1: "{{ groups['web_servers'][0] }}"
  web2: "{{ groups['web_servers'][1] }}"
  web3: "{{ groups['web_servers'][2] }}"
  rsyslog: "{{ groups['influxdb_servers'][0] }}"

dns_transfer_key_name: transfer
dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38313936653262646432393166343563646435616132386233326266383965626232333133313636
          3239313539613265643032326164653435633130303439320a386538383461386363623633616238
          32323737376635333036656639643435383632343661656362653736316336656261393166396332
          3865653364666233640a616339333865656637623030303231663737383962323062366537306530
          34363333326437633935333466623234656462323132663539316538353733653533373831326539
          3632366533613731626439663537306261643665623736353961

dns_update_key_name: update
dns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39343233643966383230356361303030666135373830616664323031303436653736656263333131
          3563646664306637313363316561363131633666353531310a363838643162343136656363313438
          39343636353665623730646332373333343432306631616439363664633066343332313939303336
          3765616234323666350a633436323162346539303739353332656632303431656336306464643138
          62623030333530386535333064316536333435313032616465613137633165363761643131346233
          3566616665626566323932383432623737386163346466663463

#PROMETHEUS
#**********************************************************************************************

prom_mon_host: "{{ ansible_host }}:{{ ansible_port//100}}80"

prometheus_exporters:
  node:
    port: 9100
  nginx:
    port: 9113
  mysql:
    port: 9104
  bind:
    port: 9119
  influxdb:
    port: 9424
  haproxy:
    port: 9101
  keepalived:
    port: 9165

#MYSQL SERVER
#**********************************************************************************************

mysql_bind_address: 0.0.0.0
mysql_host: "{{groups['db_master'][0]}}"
mysql_hostname: "{{mysql_host}}"
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
mysql_database: agama
mysql_user: agama
node_id: "{{ (ansible_port / 100) | int }}"
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35356166366264393634613061653861383434633538303565643339613731643965643339333066
          6337353638376333643364386331623066346364633436320a373234333636303839613865396364
          34383566383566646336313466323639373266623061336430353265343833313232346333656430
          3539366635636631390a396533623235323135363334303938663133323936393866363230333661
          3235

mysql_user_backup: backup
mysql_backup_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34353531363565363833346239373832646634633239393434376466396633333832303737306537
          3034323730326565373034643531356630366564613631360a323939353262386434363038663466
          37623036653964313763303136636663396666323664313439393432393232363636383237336161
          3837663734326233640a653264613536306238303464363235323332653963383665656632373533
          3262

mysql_exporter_user: exporter
mysql_exporter_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36336539626530383230363630373731393561646236386163333936313966356534636338393233
          6161636466633132626537303731663365303231616138650a373738366639373634303133363035
          37313635343365663139383364633236646539393565623934346433336163343161353538666464
          3337373138393034660a663532303330656230616132643563323537303535346562333035646234
          6238

mysql_user_replication: replication
mysql_replication_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63363739396265383764366235363534623961626133653864653563313834396331623334643635
          3332393662393263306333356635353832393836346364620a663964356532333930326633633066
          30393531303961343131363433643061623561653334363361353037393731393132343733636362
          6166623036363063350a393639613734353138356631346331376439303665356231373339363465
          6263

grafana_login: MichalKaiser
grafana_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66656565326635313930363339386238313663356634363131363364643461376138363562346437
          6235373836363932363838663239333265336132653039320a626139396239396438306664653437
          64383665616435623433666331356166656136373831343132353564373763353763386562626333
          3733373934396662310a663431386132623965323436366231633436376262383934396363383566
          3635
